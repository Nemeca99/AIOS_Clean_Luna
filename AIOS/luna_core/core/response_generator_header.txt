#!/usr/bin/env python3
"""
Luna Response Generator
Handles response generation with LM Studio integration
"""

# CRITICAL: Import Unicode safety layer FIRST
import sys
from pathlib import Path
sys.path.append(str(Path(__file__).parent.parent.parent))
from utils_core.unicode_safe_output import setup_unicode_safe_output
setup_unicode_safe_output()

import re
import json
import requests
import time
import math
from typing import Dict, List, Optional, Any, Tuple
from datetime import datetime

# Import AIOS systems
from support_core.support_core import (
    SystemConfig, aios_logger, aios_security_validator
)
from carma_core.carma_core import CARMASystem

# Import from core modules
from .utils import HiveMindLogger
from .personality import LunaPersonalitySystem

# Import from other modules
from ..model_config import get_main_model, get_embedder_model, get_draft_model

# === LUNA RESPONSE GENERATION ===


